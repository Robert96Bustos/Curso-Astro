---
import Layout from '../../layouts/Layout.astro'
import { getLaunchBy, getLatestLaunches } from "../../services/spacex";

const { id } = Astro.params;
console.log({ id });

let launch;
if (id) {
    launch = await getLaunchBy({ id });
    console.log("Data from getLaunchBy:", launch); // Agrega este console.log para depurar
}

export async function getStaticPaths() {
// llamar una API externa para saber todos los ids que debe generar
    const launches = await getLatestLaunches()

    return launches.map((launch) => ({
        params: { id: launch.id },
    }))
}

---
<Layout title=`Lanzamiento ${id}`>
    <article>
        {launch?.id}
    </article>
</Layout>

